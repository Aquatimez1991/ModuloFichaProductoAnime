const a=document.getElementById("wishlist-modal"),m=document.getElementById("close-wishlist"),o=document.getElementById("wishlist-items"),c=document.getElementById("empty-wishlist"),h=document.getElementById("clear-wishlist"),g=document.getElementById("add-all-to-cart"),u={1:{name:"Yotsuba Koiwai",price:500,image:"https://n9.cl/drl3t"},2:{name:"Miku Hatsune - Racing 2024",price:16500,image:"https://images.unsplash.com/photo-1601382270349-49c15bddf738?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2xsZWN0aWJsZSUyMHRveSUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},3:{name:"Nendoroid Petite - B.G.M Festival Set Vol.0",price:100,image:"https://acortar.link/nZfZXe"},4:{name:"Rem - Re:Zero",price:15800,image:"https://images.unsplash.com/photo-1601382270349-49c15bddf738?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2xsZWN0aWJsZSUyMHRveSUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},5:{name:"Zero Two - Darling in the Franxx",price:17200,image:"https://images.unsplash.com/photo-1667585149954-5beab3e9bdc4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGNoYXJhY3RlciUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzJ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"}};function p(){a?.classList.remove("hidden"),l()}function n(){a?.classList.add("hidden")}function l(){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}').wishlist;if(t.length===0){c?.classList.remove("hidden"),o?.classList.add("hidden");return}c?.classList.add("hidden"),o?.classList.remove("hidden"),o&&(o.innerHTML="",t.forEach(s=>{const i=u[s];if(i){const r=document.createElement("div");r.className="flex items-center gap-3 p-3 bg-muted/50 rounded-xl mb-3",r.innerHTML=`
            <img src="${i.image}" alt="${i.name}" class="w-16 h-16 object-cover rounded-lg">
            <div class="flex-1 min-w-0">
              <h4 class="font-medium text-sm truncate">${i.name}</h4>
              <p class="text-muted-foreground text-sm">S/${i.price.toLocaleString("en-US")}</p>
            </div>
            <div class="flex gap-2">
              <button onclick="addToCartFromWishlist(${s})" class="px-3 py-1 bg-primary text-primary-foreground text-xs rounded-lg hover:bg-primary/90 transition-colors">
                Agregar al Carrito
              </button>
              <button onclick="removeFromWishlist(${s})" class="text-muted-foreground hover:text-foreground transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
              </button>
            </div>
          `,o.appendChild(r)}}))}function f(e){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');t.cart[e]=(t.cart[e]||0)+1,localStorage.setItem("figure-store",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("cartUpdated")),d("¡Producto agregado al carrito!")}function w(e){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');t.wishlist=t.wishlist.filter(s=>s!==e),localStorage.setItem("figure-store",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("wishlistUpdated")),l()}function x(){const e=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');e.wishlist=[],localStorage.setItem("figure-store",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("wishlistUpdated")),l()}function v(){const e=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}'),t=e.wishlist;if(t.length===0){alert("Tu lista de favoritos está vacía");return}t.forEach(s=>{e.cart[s]=(e.cart[s]||0)+1}),localStorage.setItem("figure-store",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("cartUpdated")),d(`¡${t.length} productos agregados al carrito!`),n()}function d(e){const t=document.createElement("div");t.className="fixed top-20 right-4 z-50 bg-emerald-500 text-white px-4 py-3 rounded-xl shadow-lg transform translate-x-full transition-transform duration-300",t.innerHTML=`
      <div class="flex items-center gap-3">
        <span class="text-lg font-bold">✓</span>
        <p class="font-medium">${e}</p>
        <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white/80 hover:text-white transition-colors">✕</button>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{t.classList.remove("translate-x-full")},100),setTimeout(()=>{t.classList.add("translate-x-full"),setTimeout(()=>t.remove(),300)},3e3)}m?.addEventListener("click",n);h?.addEventListener("click",x);g?.addEventListener("click",v);a?.addEventListener("click",e=>{e.target===a&&n()});window.openWishlist=p;window.addToCartFromWishlist=f;window.removeFromWishlist=w;
