import"./CartModal.astro_astro_type_script_index_0_lang.48561cd2.js";function m(e){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');t.cart[e]=(t.cart[e]||0)+1,localStorage.setItem("figure-store",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("cartUpdated")),g("¡Producto agregado al carrito!")}function g(e){const t=document.createElement("div");t.className="fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.remove()},2e3)}window.addToCart=m;const r=document.getElementById("wishlist-modal"),h=document.getElementById("close-wishlist"),o=document.getElementById("wishlist-items"),c=document.getElementById("empty-wishlist"),p=document.getElementById("clear-wishlist"),w=document.getElementById("add-all-to-cart"),u={1:{name:"Yotsuba Koiwai",price:500,image:"https://n9.cl/drl3t"},2:{name:"Miku Hatsune - Racing 2024",price:16500,image:"https://images.unsplash.com/photo-1601382270349-49c15bddf738?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2xsZWN0aWJsZSUyMHRveSUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},3:{name:"Nendoroid Petite - B.G.M Festival Set Vol.0",price:100,image:"https://acortar.link/nZfZXe"},4:{name:"Rem - Re:Zero",price:15800,image:"https://images.unsplash.com/photo-1601382270349-49c15bddf738?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2xsZWN0aWJsZSUyMHRveSUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},5:{name:"Zero Two - Darling in the Franxx",price:17200,image:"https://images.unsplash.com/photo-1667585149954-5beab3e9bdc4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGNoYXJhY3RlciUyMGZpZ3VyZXxlbnwxfHx8fDE3NTYwODU0NzJ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"}};function f(){r?.classList.remove("hidden"),l()}function n(){r?.classList.add("hidden")}function l(){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}').wishlist;if(t.length===0){c?.classList.remove("hidden"),o?.classList.add("hidden");return}c?.classList.add("hidden"),o?.classList.remove("hidden");let i="";t.forEach(a=>{const s=u[a];s&&(i+=`
          <div class="flex items-center gap-3 py-3 border-b last:border-b-0">
            <img src="${s.image}" alt="${s.name}" class="w-16 h-16 object-cover rounded-lg">
            <div class="flex-1">
              <h4 class="font-medium text-sm">${s.name}</h4>
                              <p class="text-gray-500 text-sm">S/${s.price.toLocaleString("en-US")}</p>
            </div>
            <div class="flex items-center gap-2">
              <button onclick="addToCartFromWishlist(${a})" class="px-3 py-1 bg-primary text-primary-foreground rounded text-xs hover:bg-primary/90 transition-colors">
                Agregar
              </button>
              <button onclick="removeFromWishlist(${a})" class="text-red-500 hover:text-red-700">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
              </button>
            </div>
          </div>
        `)}),o&&(o.innerHTML=i)}function x(e){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');t.cart[e]=(t.cart[e]||0)+1,localStorage.setItem("figure-store",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("cartUpdated")),d("¡Producto agregado al carrito!")}function v(e){const t=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');t.wishlist=t.wishlist.filter(i=>i!==e),localStorage.setItem("figure-store",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("wishlistUpdated")),l()}function y(){const e=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}');e.wishlist=[],localStorage.setItem("figure-store",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("wishlistUpdated")),l()}function b(){const e=JSON.parse(localStorage.getItem("figure-store")||'{"cart": {}, "wishlist": []}'),t=e.wishlist;if(t.length===0){alert("Tu lista de favoritos está vacía");return}t.forEach(i=>{e.cart[i]=(e.cart[i]||0)+1}),localStorage.setItem("figure-store",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("cartUpdated")),d(`¡${t.length} productos agregados al carrito!`),n()}function d(e){const t=document.createElement("div");t.className="fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.remove()},2e3)}h?.addEventListener("click",n);p?.addEventListener("click",y);w?.addEventListener("click",b);r?.addEventListener("click",e=>{e.target===r&&n()});window.openWishlist=f;window.addToCartFromWishlist=x;window.removeFromWishlist=v;
